<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>myMemoPad</title>
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
</head>
<body>
<header>
<h1>MemoPad</h1>
</header>
<main>
    <dl id="form">
        <dt>タイトル</dt>
        <dd><input type="text" id="key"></dd>
        <dt>内　容</dt>
        <dd><textarea id="memo"></textarea></dd>
    </dl>
    <ul class="option">
        <li id="save">登録・更新</li>
        <li id="remove">１件消去</li>
    </ul>
</main>
<h2>※タイトルをクリックすると上記入力フォームに引用されます</h2>
<table id="list">
    <tr>
        <th class="title_1">タイトル</th>
        <th class="title_2">内容</th>
    </tr>
<!-- ここに追加データが挿入される -->
</table>
<div id="clear">全件消去</div>
<script>

// Save クリックイベント
$("#save").on('click',function(){
    const key = $('#key').val();
    const memo = $('#memo').val();
    localStorage.setItem(key,memo);
    const html = '<tr><td>'+key+'</td><td>'+memo+'</td></tr>';
    location.reload();
})

// remove クリックイベント
$("#remove").on('click',function(){
    const key = $('#key').val();
    localStorage.removeItem(key);
    location.reload();
})

// clear クリックイベント
$("#clear").on('click',function(){
    localStorage.clear();
    location.reload();
})

// ページ読み込み：保存データ取得表示
for(let i=0; i<localStorage.length; i++){
    const key = localStorage.key(i);
    const memo = localStorage.getItem(key);
    const html = '<tr><td class="list_title">'+key+'</td><td>'+memo+'</td></tr>';
    $("#list").append(html);
}

$(".list_title").on('click',function(){
    const key = $(this).text();
    const memo = localStorage.getItem(key);
    $("#key").val(key);
    $("#memo").val(memo);
})

</script>
<footer><small>G's</small></footer>
</body>
</html>